(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0cfda6d0"],{"386d":function(t,e,a){"use strict";var r=a("cb7c"),n=a("83a1"),s=a("5f1b");a("214f")("search",1,(function(t,e,a,i){return[function(a){var r=t(this),n=void 0==a?void 0:a[e];return void 0!==n?n.call(a,r):new RegExp(a)[e](String(r))},function(t){var e=i(a,t,this);if(e.done)return e.value;var l=r(t),o=String(this),c=l.lastIndex;n(c,0)||(l.lastIndex=0);var u=s(l,o);return n(l.lastIndex,c)||(l.lastIndex=c),null===u?-1:u.index}]}))},"5dbc":function(t,e,a){var r=a("d3f4"),n=a("8b97").set;t.exports=function(t,e,a){var s,i=e.constructor;return i!==a&&"function"==typeof i&&(s=i.prototype)!==a.prototype&&r(s)&&n&&n(t,s),t}},"60fb":function(t,e,a){},7930:function(t,e,a){"use strict";var r=a("60fb"),n=a.n(r);n.a},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"8b97":function(t,e,a){var r=a("d3f4"),n=a("cb7c"),s=function(t,e){if(n(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(n){e=!0}return function(t,a){return s(t,a),e?t.__proto__=a:r(t,a),t}}({},!1):void 0),check:s}},aa77:function(t,e,a){var r=a("5ca1"),n=a("be13"),s=a("79e5"),i=a("fdef"),l="["+i+"]",o="​",c=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),p=function(t,e,a){var n={},l=s((function(){return!!i[t]()||o[t]()!=o})),c=n[t]=l?e(d):i[t];a&&(n[a]=c),r(r.P+r.F*l,"String",n)},d=p.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=p},c4c7:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"dashboard-container vehicle customer-list-box"},[r("div",{staticClass:"header"},[r("div",{staticClass:"left"},[r("span",[t._v("车辆类型：")]),t._v(" "),r("el-select",{staticClass:"select",attrs:{placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),r("div",{staticClass:"center"},[r("span",{staticStyle:{width:"110px"}},[t._v("车牌号码：")]),t._v(" "),r("el-input",{attrs:{type:"text",placeholder:"请输入车牌号码",clearable:""},model:{value:t.License,callback:function(e){t.License=e},expression:"License"}})],1),t._v(" "),r("div",{staticClass:"right"},[r("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.search(t.value)}}},[t._v("搜索")]),t._v(" "),r("el-button",{staticClass:"cancel\n      ",on:{click:t.reset}},[t._v("重置")])],1)]),t._v(" "),r("div",{staticClass:"header-to"},[r("div",{on:{click:t.truck}},[r("div",{class:{active:"all"===t.status}},[t._v("全部 "+t._s(t.totals))])]),t._v(" "),r("div",{on:{click:t.usable}},[r("div",{class:{active:"able"===t.status}},[t._v("可用 "+t._s(t.usables))])]),t._v(" "),r("div",{on:{click:t.outOfservice}},[r("div",{class:{active:"disable"===t.status}},[t._v("停用 "+t._s(t.service))])])]),t._v(" "),r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("el-button",{attrs:{type:"warning"},on:{click:t.add}},[t._v("新增车辆")])],1),t._v(" "),[r("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":""}},[r("el-table-column",{attrs:{type:"index",index:t.indexAdd,label:"序号",width:"60"}}),t._v(" "),r("el-table-column",{attrs:{prop:"licensePlate",label:"车牌号码",width:"120"}}),t._v(" "),r("el-table-column",{attrs:{prop:"truckTypeName",label:"车辆类型",width:"120"}}),t._v(" "),r("el-table-column",{attrs:{prop:"driverNum",label:"司机数量"}}),t._v(" "),r("el-table-column",{attrs:{prop:"workStatus",label:"车辆状态"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[1===a.workStatus?r("span",[r("span",{staticClass:"aaa"}),t._v("启用")]):r("span",[r("span",{staticClass:"bbb"}),t._v("停用")])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"deviceGpsId",label:"GPS设备ID"}}),t._v(" "),r("el-table-column",{attrs:{prop:"allowableLoad",label:"实载重量（T）"}}),t._v(" "),r("el-table-column",{attrs:{prop:"allowableVolume",label:"实载体积（方）"}}),t._v(" "),r("el-table-column",{attrs:{label:"操作",width:"200","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.ViewDetails(e.row.id)}}},[t._v("查看详情")]),t._v(" "),[0===e.row.workStatus?r("el-button",{attrs:{type:"text",size:"small"},on:{click:t.open}},[t._v("启用\n              ")]):r("el-button",{attrs:{type:"text",size:"small"},on:{click:t.open}},[t._v("停用\n              ")])],t._v(" "),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.bind(e.row.id)}}},[t._v("配置司机")])]}}])})],1)],t._v(" "),r("div",{staticClass:"block"},[r("el-pagination",{attrs:{"current-page":t.truckForm.page,"page-sizes":[5,15,20,25],"page-size":t.truckForm.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],2),t._v(" "),r("el-dialog",{attrs:{title:"新增车辆",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("el-form",{ref:"formLabelAlign",attrs:{"label-position":t.labelPosition,"label-width":"100px",model:t.formLabelAlign,rules:t.rules}},[r("el-form-item",{attrs:{label:"车辆类型",prop:"truckTypeId"}},[r("el-select",{staticClass:"select",attrs:{placeholder:"请选择"},model:{value:t.formLabelAlign.truckTypeId,callback:function(e){t.$set(t.formLabelAlign,"truckTypeId",e)},expression:"formLabelAlign.truckTypeId"}},t._l(t.options,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"车辆号码",prop:"licensePlate"}},[r("el-input",{attrs:{placeholder:"请输入车牌号码"},model:{value:t.formLabelAlign.licensePlate,callback:function(e){t.$set(t.formLabelAlign,"licensePlate",e)},expression:"formLabelAlign.licensePlate"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"GPS设备ID",prop:"deviceGpsId"}},[r("el-input",{attrs:{placeholder:"请输入GPS设备ID"},model:{value:t.formLabelAlign.deviceGpsId,callback:function(e){t.$set(t.formLabelAlign,"deviceGpsId","string"===typeof e?e.trim():e)},expression:"formLabelAlign.deviceGpsId"}})],1)],1),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{plain:"",type:"primary"},on:{click:t.addTrucker}},[t._v("确 定")]),t._v(" "),r("el-button",{on:{click:t.resetTrucker}},[t._v("取 消")])],1)],1),t._v(" "),r("el-dialog",{attrs:{title:"配置司机",visible:t.configurationDriver,width:"40%"},on:{"update:visible":function(e){t.configurationDriver=e}}},[r("div",{staticClass:"box"},[r("div",{staticClass:"box-top"},[r("el-row",[r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple"},[t._v("\n            车牌号："+t._s(t.form.licensePlate)+"\n          ")])]),t._v(" "),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple-light"},[t._v("\n            车型："+t._s(t.form.truckTypeName)+"\n          ")])])],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple"},[t._v("\n            车辆状态："+t._s(0===t.form.workStatus?"启用":"停用")+"\n          ")])]),t._v(" "),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple-light"},[t._v("\n            实载重量："+t._s(t.form.allowableLoad)+" 吨\n          ")])])],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple"},[t._v("\n            实载体积："+t._s(t.form.allowableVolume)+" m³\n          ")])])],1)],1),t._v(" "),r("div",{staticClass:"box-select"},[r("el-form",{attrs:{"label-width":"80px"}},[r("el-form-item",{attrs:{label:"配置司机"}},[r("el-select",{attrs:{placeholder:"请输入司机名称"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1),t._v(" "),r("div",{staticClass:"box-footer"},[r("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":""}},[r("el-table-column",{attrs:{type:"index",label:"序号",width:"100"}}),t._v(" "),r("el-table-column",{attrs:{property:"date",label:"司机名称"}}),t._v(" "),r("el-table-column",{attrs:{property:"address",label:"操作"}}),t._v(" "),r("template",{slot:"empty"},[r("img",{staticStyle:{height:"80px","margin-top":"10px"},attrs:{src:a("1427")}}),t._v(" "),r("p",{staticStyle:{margin:"0",padding:"0","margin-bottom":"15px","margin-top":"-10px"}},[t._v("空空如也")])])],2)],1)]),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"confirm",attrs:{type:"primary"},on:{click:function(e){t.configurationDriver=!1}}},[t._v("确 定")]),t._v(" "),r("el-button",{staticClass:"cancles",on:{click:function(e){t.configurationDriver=!1}}},[t._v("取 消")])],1)])],1)},n=[],s=(a("386d"),a("c5f6"),a("96cf"),a("3b8d")),i=a("b775"),l=function(){return Object(i["a"])("/truckType/simple","get")},o=function(t){return Object(i["a"])("/truck/page","get",t)},c=function(t){return Object(i["a"])("/truck","post",t)},u=function(t){return Object(i["a"])("/truck/".concat(t),"get")},p={name:"Vehicle",data:function(){return{status:"all",activeName:"second",options:[],value:"",License:"",tableData:[],usables:0,service:0,total:0,totals:0,dialogVisible:!1,configurationDriver:!1,truckForm:{page:1,pageSize:5},labelPosition:"right",formLabelAlign:{truckTypeId:null,licensePlate:"",deviceGpsId:""},rules:{licensePlate:[{required:!0,message:"请输入车牌号码",trigger:"blur"},{pattern:/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领][A-HJ-NP-Z][A-HJ-NP-Z0-9]{4,5}[A-HJ-NP-Z0-9挂学警港澳]$/,message:"车牌格式不正确",trigger:"blur"}],deviceGpsId:[{required:!0,message:"请输入GPS设备ID",trigger:"blur"}]},form:{id:"",licensePlate:"",truckTypeName:"",allowableVolume:null,allowableLoad:null,deviceGpsId:"",workStatus:null}}},created:function(){this.vehicle(),this.usable(),this.outOfservice(),this.truck()},methods:{indexAdd:function(t){var e=this.truckForm.page,a=this.truckForm.pageSize;return t+1+(e-1)*a},vehicle:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l();case 2:e=t.sent,this.options=e.data;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),truck:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.status="all",t.next=3,o(this.truckForm);case 3:e=t.sent,this.total=Number(e.data.counts),this.totals=Number(e.data.counts),this.tableData=e.data.items;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),reset:function(){this.value="",this.License="",this.truck()},search:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),this.status="search",t.next=4,o({page:this.truckForm.page,pageSize:this.truckForm.pageSize,truckTypeId:e,licensePlate:this.License});case 4:a=t.sent,this.total=Number(a.data.counts),this.tableData=a.data.items;case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),usable:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.status="able",t.next=3,o({page:this.truckForm.page,pageSize:this.truckForm.pageSize,workStatus:1});case 3:e=t.sent,this.total=Number(e.data.counts),this.usables=Number(e.data.counts),this.tableData=e.data.items;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),outOfservice:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.status="disable",t.next=3,o({page:this.truckForm.page,pageSize:this.truckForm.pageSize,workStatus:0});case 3:e=t.sent,this.total=Number(e.data.counts),this.service=Number(e.data.counts),this.tableData=e.data.items;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),add:function(){this.dialogVisible=!0},addTrucker:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c(this.formLabelAlign);case 2:this.$message.success("添加车辆成功"),this.resetTrucker(),this.truck();case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),resetTrucker:function(){this.dialogVisible=!1,this.formLabelAlign={truckTypeId:null,licensePlate:"",deviceGpsId:""}},ViewDetails:function(t){this.$router.push({name:"vehicle-detail",query:{id:t}})},requestType:function(){"all"===this.status?this.truck():"able"===this.status?this.usable():"disable"===this.status?this.outOfservice():this.search(this.value)},handleSizeChange:function(t){console.log("每页 ".concat(t," 条")),this.truckForm.pageSize=t,this.requestType()},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.truckForm.page=t,this.requestType()},open:function(){var t=this;this.$confirm('确认要启用吗？车辆启用需满足以下条件： <div class="rsdsa"><span>1 车辆信息已完善</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>2 绑定司机>=2,且有排班</span> </div>',"车辆启用",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"warning"}).then((function(){t.$message({type:"error",message:"请先绑定2个司机"})})).catch((function(){t.$message({type:"info",message:"已取消"})}))},bind:function(t){var e=this;this.$confirm('配置司机需满足以下条件： <div class="rsdsa"><span>1 车辆信息已完善</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>2 车辆无未完成运输任务</span> </div>',"车辆配置",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.configurationDriver=!0,a.next=3,u(t);case 3:r=a.sent,console.log(r.data),e.form.id=r.data.id,e.form.licensePlate=r.data.licensePlate,e.form.truckTypeName=r.data.truckTypeName,e.form.allowableVolume=r.data.allowableVolume,e.form.allowableLoad=r.data.allowableLoad,e.form.deviceGpsId=r.data.deviceGpsId,e.form.workStatus=r.data.workStatus,console.log(e.form.workStatus);case 13:case"end":return a.stop()}}),a)})))).catch((function(){e.$message({type:"info",message:"已取消"})}))},handleClick:function(t){console.log(t)}}},d=p,f=(a("d129"),a("7930"),a("2877")),v=Object(f["a"])(d,r,n,!1,null,"65d587d2",null);e["default"]=v.exports},c5f6:function(t,e,a){"use strict";var r=a("7726"),n=a("69a8"),s=a("2d95"),i=a("5dbc"),l=a("6a99"),o=a("79e5"),c=a("9093").f,u=a("11e9").f,p=a("86cc").f,d=a("aa77").trim,f="Number",v=r[f],b=v,h=v.prototype,m=s(a("2aeb")(h))==f,g="trim"in String.prototype,_=function(t){var e=l(t,!1);if("string"==typeof e&&e.length>2){e=g?e.trim():d(e,3);var a,r,n,s=e.charCodeAt(0);if(43===s||45===s){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===s){switch(e.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+e}for(var i,o=e.slice(2),c=0,u=o.length;c<u;c++)if(i=o.charCodeAt(c),i<48||i>n)return NaN;return parseInt(o,r)}}return+e};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof v&&(m?o((function(){h.valueOf.call(a)})):s(a)!=f)?i(new b(_(e)),a,v):_(e)};for(var k,w=a("9e1e")?c(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;w.length>y;y++)n(b,k=w[y])&&!n(v,k)&&p(v,k,u(b,k));v.prototype=h,h.constructor=v,a("2aba")(r,f,v)}},d129:function(t,e,a){"use strict";var r=a("dcb5"),n=a.n(r);n.a},dcb5:function(t,e,a){},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);