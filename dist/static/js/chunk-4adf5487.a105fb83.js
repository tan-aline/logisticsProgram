(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4adf5487"],{"0a49":function(t,e,n){var r=n("9b43"),a=n("626a"),i=n("4bf8"),o=n("9def"),c=n("cd1c");t.exports=function(t,e){var n=1==t,s=2==t,u=3==t,l=4==t,f=6==t,d=5==t||f,p=e||c;return function(e,c,v){for(var b,h,g=i(e),_=a(g),m=r(c,v,3),C=o(_.length),k=0,O=n?p(e,C):s?p(e,0):void 0;C>k;k++)if((d||k in _)&&(b=_[k],h=m(b,k,g),t))if(n)O[k]=h;else if(h)switch(t){case 3:return!0;case 5:return b;case 6:return k;case 2:O.push(b)}else if(l)return!1;return f?-1:u||l?l:O}}},1208:function(t,e,n){},3032:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",{attrs:{title:"配置车辆",visible:t.dialogVisible,width:"40%","before-close":t.closeDialog,"close-on-click-modal":!1,"append-to-body":""}},[r("div",{staticClass:"driver-info"},[r("p",[t._v("司机编号："+t._s(t.datas.userId))]),t._v(" "),r("p",[t._v("司机名称："+t._s(t.datas.name))]),t._v(" "),r("p",[t._v("司机电话："+t._s(t.datas.mobile))]),t._v(" "),r("p",[t._v("所属机构："+t._s(t.datas.agency.name))])]),t._v(" "),r("div",{staticClass:"driver-config-car"},[r("span",[t._v("配置车辆：")]),t._v(" "),r("el-select",{attrs:{placeholder:"请输入车牌号"},on:{change:function(e){return t.handleCar(t.value)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return r("el-option",{key:t.id,attrs:{label:t.licensePlate,value:t.id}})})),1)],1),t._v(" "),r("div",{staticClass:"driver-table"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[r("el-table-column",{attrs:{prop:"licensePlate",label:"车牌号"}}),t._v(" "),r("el-table-column",{attrs:{prop:"workStatus",label:"车辆状态"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[r("span",{staticClass:"driver-workStatus",class:{work:n.workStatus}},[t._v("\n            "+t._s(n.workStatus?"可用":"禁用")+"\n          ")])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"操作","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{staticClass:"search",attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleClick(e.row.id)}}},[t._v("查看")]),t._v(" "),r("span",{staticStyle:{color:"#dcdfe6",margin:"0 5px",cursor:"default"}},[t._v("|")]),t._v(" "),r("el-button",{staticClass:"delete",attrs:{type:"text",size:"small"},on:{click:t.deleteData}},[t._v("删除")])]}}])}),t._v(" "),r("template",{slot:"empty"},[r("img",{staticStyle:{height:"80px","margin-top":"10px"},attrs:{src:n("1427")}}),t._v(" "),r("p",{staticStyle:{margin:"0",padding:"0","margin-top":"-30px"}},[t._v("空空如也")])])],2)],1),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:t.close}},[t._v("确 定")]),t._v(" "),r("el-button",{staticClass:"cancel",on:{click:t.closeDialog}},[t._v("取 消")])],1)])},a=[],i=(n("7514"),n("96cf"),n("3b8d")),o=n("da26"),c=n("7b11"),s={name:"CarConfig",props:{data:{type:Object,default:null},open:{type:Boolean,default:!1}},data:function(){return{datas:"",dialogVisible:!1,options:[],value:"",tableData:[],currentId:null}},created:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.dialogVisible=this.open,this.datas=this.data,this.datas.truck?(this.tableData.push(this.datas.truck),this.value=this.datas.truck.licensePlate,this.currentId=this.datas.truck.id):(this.value=null,this.currentId=null),t.next=5,Object(o["c"])();case 5:e=t.sent,n=e.data,this.options=n;case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{deleteData:function(){this.tableData=[],this.value="",this.currentId=""},closeDialog:function(){this.$emit("handleClose",!1)},handleCar:function(t){this.currentId=t;var e=this.options.find((function(e){return e.id===t}));e&&this.tableData.splice(0,1,e)},handleClick:function(t){this.$router.push({name:"vehicle-detail",query:{id:t}})},close:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["d"])({driverIds:[this.datas.userId],truckId:this.currentId});case 2:e=t.sent,200===e.code?(this.$message.success("配置成功"),this.$emit("handleClose",!1)):this.$message.error(e.msg);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},u=s,l=(n("912e"),n("2877")),f=Object(l["a"])(u,r,a,!1,null,"0e78fc68",null);e["default"]=f.exports},"540b":function(t,e,n){"use strict";var r=n("1208"),a=n.n(r);a.a},"5dbc":function(t,e,n){var r=n("d3f4"),a=n("8b97").set;t.exports=function(t,e,n){var i,o=e.constructor;return o!==n&&"function"==typeof o&&(i=o.prototype)!==n.prototype&&r(i)&&a&&a(t,i),t}},7514:function(t,e,n){"use strict";var r=n("5ca1"),a=n("0a49")(5),i="find",o=!0;i in[]&&Array(1)[i]((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(i)},"7b11":function(t,e,n){"use strict";n.d(e,"n",(function(){return a})),n.d(e,"p",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"e",(function(){return c})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return u})),n.d(e,"i",(function(){return l})),n.d(e,"j",(function(){return f})),n.d(e,"a",(function(){return d})),n.d(e,"d",(function(){return p})),n.d(e,"b",(function(){return v})),n.d(e,"D",(function(){return b})),n.d(e,"G",(function(){return h})),n.d(e,"F",(function(){return g})),n.d(e,"E",(function(){return _})),n.d(e,"C",(function(){return m})),n.d(e,"u",(function(){return C})),n.d(e,"r",(function(){return k})),n.d(e,"s",(function(){return O})),n.d(e,"t",(function(){return y})),n.d(e,"v",(function(){return j})),n.d(e,"c",(function(){return w})),n.d(e,"A",(function(){return x})),n.d(e,"x",(function(){return I})),n.d(e,"B",(function(){return S})),n.d(e,"z",(function(){return D})),n.d(e,"y",(function(){return z})),n.d(e,"l",(function(){return N})),n.d(e,"m",(function(){return A})),n.d(e,"k",(function(){return L})),n.d(e,"q",(function(){return E})),n.d(e,"o",(function(){return V})),n.d(e,"w",(function(){return $}));var r=n("b775"),a=function(t){return Object(r["a"])("/truckType/simple","get",t)},i=function(t){return Object(r["a"])("/bindingDrivers/".concat(t),"get",t)},o=function(t){return Object(r["a"])("/driver/".concat(t),"get",t)},c=function(t,e){return Object(r["a"])("/web-manager/transfor-center/bussiness/driver/".concat(t),"put",e)},s=function(t,e){return Object(r["a"])("/driver/".concat(t),"put",e)},u=function(t){return Object(r["a"])("/driverLicense/".concat(t),"get",t)},l=function(t){return Object(r["a"])("/driverLicense","post",t)},f=function(t){return Object(r["a"])("/web-manager/transfor-center/bussiness/driver/".concat(t,"/truck"),"get",t)},d=function(t){return Object(r["a"])("/transportLine/trips/".concat(t.transportTripsId,"/truckDrivers"),"post",t)},p=function(t){return Object(r["a"])("/driver/truckDrivers","post",t)},v=function(t){return Object(r["a"])("/truck/truckDrivers","post",t)},b=function(t){return Object(r["a"])("/truck/".concat(t),"get",t)},h=function(t,e){return Object(r["a"])("/truck/".concat(t),"put",e)},g=function(t){return Object(r["a"])("/truck/".concat(t,"/license"),"get",t)},_=function(t,e){return Object(r["a"])("/truck/".concat(t,"/license"),"post",e)},m=function(t){return Object(r["a"])("/truck/".concat(t,"/transportTrips"),"get",t)},C=function(t){return Object(r["a"])("/transportLine/page","post",t)},k=function(t){return Object(r["a"])("/transportLine","post",t)},O=function(t){return Object(r["a"])("/transportLine/".concat(t),"delete",t)},y=function(t){return Object(r["a"])("/transportLine/".concat(t),"get",t)},j=function(t,e){return Object(r["a"])("/transportLine/".concat(t),"put",e)},w=function(t){return Object(r["a"])("/transportLine/trips/truckDrivers","get",t)},x=function(t){return Object(r["a"])("/transportLine/trips","get",t)},I=function(t){return Object(r["a"])("/transportLine/trips","post",t)},S=function(t,e){return Object(r["a"])("/transportLine/trips/".concat(t),"put",e)},D=function(t){return Object(r["a"])("/transportLine/trips/".concat(t),"get",t)},z=function(t){return Object(r["a"])("/transportLine/trips/".concat(t),"delete",t)},N=function(t){return Object(r["a"])("/carriages","get",t)},A=function(t){return Object(r["a"])("/carriages","post",t)},L=function(t){return Object(r["a"])("/carriages/".concat(t),"delete",t)},E=function(t){return Object(r["a"])("/files/imageUpload","post",t)},V=function(t){return Object(r["a"])("/cost-configuration-manager","get",t)},$=function(t){return Object(r["a"])("/cost-configuration-manager","post",t)}},"8b97":function(t,e,n){var r=n("d3f4"),a=n("cb7c"),i=function(t,e){if(a(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(a){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},"8d7f":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dashboard-container driver customer-list-box"},[n("div",{staticClass:"driver-search"},[n("div",{staticClass:"driver-base"},[n("label",{staticClass:"el-form-item__label",attrs:{for:"dricerAccount"}},[t._v("司机账号:")]),t._v(" "),n("el-input",{attrs:{id:"dricerAccount",placeholder:"请输入司机账号",clearable:""},model:{value:t.info.account,callback:function(e){t.$set(t.info,"account",e)},expression:"info.account"}}),t._v(" "),n("label",{staticClass:"el-form-item__label",attrs:{for:"dricerName"}},[t._v("司机姓名:")]),t._v(" "),n("el-input",{attrs:{id:"dricerName",placeholder:"请输入司机姓名",clearable:""},model:{value:t.info.name,callback:function(e){t.$set(t.info,"name",e)},expression:"info.name"}}),t._v(" "),n("label",{staticClass:"el-form-item__label",staticStyle:{width:"90px"},attrs:{for:"dricerPhone"}},[t._v("司机手机号:")]),t._v(" "),n("el-input",{attrs:{id:"dricerPhone",placeholder:"请输入司机手机号",clearable:""},model:{value:t.info.phone,callback:function(e){t.$set(t.info,"phone",e)},expression:"info.phone"}})],1),t._v(" "),n("div",{staticClass:"dirver-buttom"},[n("div",{staticClass:"driver-Organization"},[n("label",{staticClass:"el-form-item__label driverOrganization",attrs:{for:"driverOrganization"}},[t._v("所属机构:")]),t._v(" "),n("treeselect",{attrs:{options:t.options,"search-nested":"",placeholder:"请选择所属机构",normalizer:t.normalizer},model:{value:t.info.agentId,callback:function(e){t.$set(t.info,"agentId",e)},expression:"info.agentId"}})],1),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.getDriverData}},[t._v("搜索")]),t._v(" "),n("el-button",{staticClass:"cancel",on:{click:t.reset}},[t._v("重置")])],1)]),t._v(" "),n("div",{staticClass:"driver-table"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"driver-table-data",staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"",height:"415"}},[n("el-table-column",{attrs:{type:"index",index:t.indexAdd,label:"序号",width:"80"}}),t._v(" "),n("el-table-column",{attrs:{prop:"account",label:"司机账号"}}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"司机姓名"}}),t._v(" "),n("el-table-column",{attrs:{prop:"mobile",label:"司机电话"}}),t._v(" "),n("el-table-column",{attrs:{prop:"truck.licensePlate",label:"关联车辆"}}),t._v(" "),n("el-table-column",{attrs:{prop:"agency.name",label:"所属机构"}}),t._v(" "),n("el-table-column",{attrs:{prop:"workStatus",label:"工作状态"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[n("span",{staticClass:"driver-workStatus",class:{work:r.workStatus}},[t._v("\n            "+t._s(r.workStatus?"上班":"休息")+"\n          ")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleLookDriverInfo(e.row.userId)}}},[t._v("\n            查看\n          ")]),t._v(" "),n("span",{staticClass:"handleOption"}),t._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleVehicle(e.row)}}},[t._v("\n            配置车辆\n          ")])]}}])})],1),t._v(" "),n("el-row",{staticClass:"opeate-tools",attrs:{type:"flex",justify:"center"}},[n("el-pagination",{attrs:{"current-page":t.info.page,"page-sizes":[10,15,20,30],"page-size":t.info.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.counts},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),n("el-dialog",{attrs:{title:"车辆配置",visible:t.dialogVisible,width:"30%","before-close":t.handleCloseCarConfig}},[n("p",[t._v("配置车辆需满足以下条件：")]),t._v(" "),n("div",{staticClass:"handleVehicleConfirm"},[n("p",[n("span",[t._v("1")]),t._v("司机信息已完善")]),t._v(" "),n("p",[n("span",[t._v("2")]),t._v("司机已设置排班")]),t._v(" "),n("p",[n("span",[t._v("3")]),t._v("司机绑定车辆未在启用状态")])]),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticClass:"cancel",on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.handleCloseConfig}},[t._v("确 定")])],1)]),t._v(" "),t.isCarConfig?n("div",{staticClass:"car-config"},[n("carConfig",{attrs:{data:t.data,open:t.isCarConfig},on:{handleClose:t.handleClose}})],1):t._e()],1)])},a=[],i=(n("c5f6"),n("96cf"),n("3b8d")),o=(n("7f7f"),n("da26")),c=n("ca17"),s=n.n(c),u=(n("542c"),n("3032")),l={name:"Courses",components:{Treeselect:s.a,carConfig:u["default"]},data:function(){return{loading:!1,options:[],info:{page:1,pageSize:10,account:"",name:"",phone:"",agentId:null},tableData:[],counts:40,dialogVisible:!1,isCarConfig:!1,data:""}},mounted:function(){this.getDriverData(),this.getOrganizationInfo()},methods:{indexAdd:function(t){var e=this.info.page,n=this.info.pageSize;return t+1+(e-1)*n},normalizer:function(t){return{id:t.id,label:t.name,children:t.children}},handleSizeChange:function(t){this.info.pageSize=t,this.getDriverData()},handleCurrentChange:function(t){this.info.page=t,this.getDriverData()},handleCloseCarConfig:function(){this.dialogVisible=!1},handleCloseConfig:function(){this.dialogVisible=!1,this.isCarConfig=!0},handleVehicle:function(t){this.dialogVisible=!0,this.data=t},handleClose:function(t){this.isCarConfig=t},handleLookDriverInfo:function(t){this.$router.push({name:"driver-detail",query:{id:t}})},getDriverData:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a,i,c,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n in this.loading=!0,e={},this.info)this.info[n]&&n!==s&&n!==c&&(e[n]=this.info[n]);return t.next=5,Object(o["b"])(e);case 5:r=t.sent,a=r.data,i=a.counts,c=a.pageSize,s=a.page,u=a.items,this.counts=Number(i),this.info.pageSize=c,this.info.page=s,this.tableData=u,this.loading=!1;case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getOrganizationInfo:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["a"])();case 2:e=t.sent,n=e.code,r=e.data,200===n&&(this.options=JSON.parse(r));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),reset:function(){this.info={account:"",name:"",phone:"",agentId:null,pageSize:10,page:1},this.getDriverData()}}},f=l,d=(n("540b"),n("2877")),p=Object(d["a"])(f,r,a,!1,null,"2979fd62",null);e["default"]=p.exports},"912e":function(t,e,n){"use strict";var r=n("f182"),a=n.n(r);a.a},aa77:function(t,e,n){var r=n("5ca1"),a=n("be13"),i=n("79e5"),o=n("fdef"),c="["+o+"]",s="​",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),f=function(t,e,n){var a={},c=i((function(){return!!o[t]()||s[t]()!=s})),u=a[t]=c?e(d):o[t];n&&(a[n]=u),r(r.P+r.F*c,"String",a)},d=f.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=f},c5f6:function(t,e,n){"use strict";var r=n("7726"),a=n("69a8"),i=n("2d95"),o=n("5dbc"),c=n("6a99"),s=n("79e5"),u=n("9093").f,l=n("11e9").f,f=n("86cc").f,d=n("aa77").trim,p="Number",v=r[p],b=v,h=v.prototype,g=i(n("2aeb")(h))==p,_="trim"in String.prototype,m=function(t){var e=c(t,!1);if("string"==typeof e&&e.length>2){e=_?e.trim():d(e,3);var n,r,a,i=e.charCodeAt(0);if(43===i||45===i){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+e}for(var o,s=e.slice(2),u=0,l=s.length;u<l;u++)if(o=s.charCodeAt(u),o<48||o>a)return NaN;return parseInt(s,r)}}return+e};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof v&&(g?s((function(){h.valueOf.call(n)})):i(n)!=p)?o(new b(m(e)),n,v):m(e)};for(var C,k=n("9e1e")?u(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;k.length>O;O++)a(b,C=k[O])&&!a(v,C)&&f(v,C,l(b,C));v.prototype=h,h.constructor=v,n("2aba")(r,p,v)}},cd1c:function(t,e,n){var r=n("e853");t.exports=function(t,e){return new(r(t))(e)}},da26:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return o}));var r=n("b775"),a=function(t){return Object(r["a"])("/driver/page","get",t)},i=function(){return Object(r["a"])("/business-hall/tree","get")},o=function(){return Object(r["a"])("/unWorkingTrucks","get")}},e853:function(t,e,n){var r=n("d3f4"),a=n("1169"),i=n("2b4c")("species");t.exports=function(t){var e;return a(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)||(e=void 0),r(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?Array:e}},f182:function(t,e,n){},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);